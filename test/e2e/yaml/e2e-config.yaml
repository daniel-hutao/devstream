tools:
  # name of the instance with github-repo-scaffolding-golang
  - name: go-webapp-repo
    plugin: github-repo-scaffolding-golang
    # options for the plugin
    options:
      # the repo's owner. It should be case-sensitive here; strictly use your GitHub username; please change the value below.
      owner: daniel-hutao
      # the repo which you'd like to create; please change the value below.
      repo: go-webapp-1
      # the branch of the repo you'd like to hold the code
      branch: main
      # the image repo you'd like to push the container image; please change the value below.
      image_repo: daniel-hutao/go-webapp-1
  - name: jira-github-default
    plugin: jira-github-integ
    # optional; if specified, dtm will make sure the dependency is applied first before handling this tool.
    dependsOn: [ "go-webapp-repo.github-repo-scaffolding-golang" ]
    # options for the plugin
    options:
      # the repo's owner
      owner: daniel-hutao
      # the repo where you'd like to setup GitHub Actions
      repo: go-webapp-1
      # "base url: https://id.atlassian.net"
      jiraBaseUrl: https://merico.atlassian.net
      # "need real user email in cloud Jira"
      jiraUserEmail: tao.hu@merico.dev
      # "get it from project url, like 'HEAP' from https://merico.atlassian.net/jira/software/projects/HEAP/pages"
      jiraProjectKey: DET
      # main branch of the repo (to which branch the plugin will submit the workflows)
      branch: main
  - name: golang-webapp-actions
    plugin: githubactions-golang
    # optional; if specified, dtm will make sure the dependency is applied first before handling this tool.
    dependsOn: [ "go-webapp-repo.github-repo-scaffolding-golang" ]
    # options for the plugin
    options:
      # the repo's owner. It should be case-sensitive here; strictly use your GitHub user name; please change the value below.
      owner: daniel-hutao
      # the repo where you'd like to setup GitHub Actions; please change the value below to an existing repo.
      repo: go-webapp-1
      # programming language specific settings
      language:
        name: go
        # version of the language
        version: "1.17"
      # main branch of the repo (to which branch the plugin will submit the workflows)
      branch: main
      build:
        # default to false
        enable: True
        # build command, OPTIONAL, the given value below is default value
        command: "go build ./..."
      test:
        # default to false
        enable: True
        # test command, OPTIONAL, the given value below is default value
        command: "go test ./..."
        coverage:
          # default to false
          enable: True
          # go test profile subcommand, OPTIONAL, the given value below is default value
          profile: "-race -covermode=atomic"
          output: "coverage.out"
      docker:
        # docker build/push related, default to false
        enable: False
        # dockerhub image repo; please change the value below.
        repo: go-webapp-1
